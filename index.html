<!DOCTYPE html>
<html>
<head>
  <link rel="icon" href='data:image/svg+xml;<svg xmlns="http://w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">ðŸ¦ </text></svg>'>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body style="font-family:sans-serif; font-size:18px;">

<h2 id="title">.</h2>

<p id="app"></p>

<details style="text-align:right; float:right; font-size:.6em; line-height:2em;">

  <summary>Info</summary>

  API for live information about COVID-19
  <br>
  GET https://coronavirus-19-api.herokuapp.com/all -> global info
  <br>
  GET https://coronavirus-19-api.herokuapp.com/countries -> all countries info
  <br>
  GET https://coronavirus-19-api.herokuapp.com/countries/{countryName} -> country specific information
  <br>
  <small><a href="https://github.com/javieraviles/covidAPI">github.com/javieraviles/covidAPI</a></small>
  
</details>

<script>
//let txt = '{"cases":422966,"deaths":18906,"recovered":109143}';

let url = 'https://coronavirus-19-api.herokuapp.com/all';

fetch(url)
  .then((response) => {
    return response.json();
  })
  .then((data) => {
    //console.log(data);
    document.getElementById('app').innerHTML = `
    <small>(recovered+deaths) / cases</small> <br><br>
    ( 
    <b style="color:green">${(data.recovered/1000).toFixed(0)}K</b>
    +
    <b style="
    background-color:#111; color: #eee; border-radius:.1em; font-weight:normal; padding:0 .2em;
    ">${(data.deaths/1000).toFixed(0)}K</b> ) /
    <b style="color:red">${(data.cases/1000).toFixed(0)}K</b> 
    = 
    <b style="
    background-color:#ddd; color: #222; border-radius:.1em; font-weight:normal; padding:0 .2em;
    ">
    ${((data.recovered+data.deaths)/data.cases).toFixed(2)}
    </b>
    `;
  
    document.getElementById('title').innerHTML = `${((data.recovered+data.deaths)/data.cases).toFixed(2)}`
  
  });

</script>

</body>
</html>
